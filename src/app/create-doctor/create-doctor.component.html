<mat-drawer-container class="admincon-container" autosize>
    <mat-drawer #drawer class="adminside-sidenav" mode="side">
        <app-clinic-sidenavbar></app-clinic-sidenavbar>
    </mat-drawer>
    <button class="togglebutton" mat-button (click)="drawer.toggle()">
        <i class="icons" (click)="clickEvent()" [ngClass]="status ? 'icon-close' : 'icon-menu'"></i>
    </button>

    <div class="right-section">
        <app-clinic-header></app-clinic-header>
        <div class="admin-main-container">
            <h3>Doctor</h3>
            <div class="dashboard-container mt-4">
                <div class="col-md-12">
                    <div class="card shadow-sm rounded mb-4">
                        <div class="card-header">
                            <span class="goback"> <button onclick="history.back()" class="btn btn-primary">Go
                                    Back</button></span>

                            <h6 *ngIf="!this.doctorId.id">Create Doctor Form </h6>
                            <h6 *ngIf="this.doctorId.id">Update Doctor Form </h6>

                        </div>

                        <form [formGroup]="createDoctorForm" (submit)="onSubmit()">
                            <div class="card-body p-3">
                                <!-- <h5>Personal Information</h5> -->
                                <div class="row">
                                    <div class="col-md-3 form-group">
                                        <label>Clinic Name</label>
                                        <input type="text" class="form-control" placeholder="Clinic Name"
                                            formControlName="clinic_name" disabled />
                                        <div class="text-danger" *ngIf="createDoctorForm.get('clinic_name')?.hasError('required') && 
                                            createDoctorForm.get('clinic_name')?.touched">
                                            Clinic Name is required</div>
                                    </div>
                                    <div class="col-md-3 form-group">
                                        <label>Doctor Registration ID</label>
                                        <input type="text" class="form-control" placeholder="Doctor Registration ID"
                                            formControlName="doctor_registration_id" />
                                        <div class="text-danger" *ngIf="createDoctorForm.get('doctor_registration_id')?.hasError('required') && 
                                            createDoctorForm.get('doctor_registration_id')?.touched">
                                            Doctor Registration ID is required</div>
                                    </div>
                                    <div class="col-md-3 form-group">
                                        <label>Doctor Year of Registration</label>
                                        <input type="text" class="form-control"
                                            placeholder="Doctor Year of Registration"
                                            formControlName="doctor_year_of_registration" />
                                        <div class="text-danger" *ngIf="createDoctorForm.get('doctor_year_of_registration')?.hasError('required') && 
                                            createDoctorForm.get('doctor_year_of_registration')?.touched">
                                            Doctor Year of Registration is required</div>
                                    </div>
                                    <div class="col-md-3 form-group">
                                        <label>Mobile Number</label>
                                        <input type="text" class="form-control" placeholder="Mobile Number"
                                            formControlName="doctor_mobile_number" />
                                        <div class="text-danger" *ngIf="createDoctorForm.get('doctor_mobile_number')?.hasError('required') && 
                                            createDoctorForm.get('doctor_mobile_number')?.touched">
                                            Mobile Number is required</div>
                                    </div>
                                </div>
                                <div class="row">

                                    <div class="col-md-3 form-group">
                                        <label>Doctor Name</label>
                                        <input type="text" class="form-control" placeholder="Doctor Name"
                                            formControlName="doctor_name" />
                                        <div class="text-danger" *ngIf="createDoctorForm.get('doctor_name')?.hasError('required') && 
                                            createDoctorForm.get('doctor_name')?.touched">
                                            Doctor Name is required</div>
                                    </div>
                                    <div class="col-md-3 form-group">
                                        <label>Doctor Speciality</label>
                                        <input type="text" class="form-control" placeholder="Doctor Speciality"
                                            formControlName="doctor_speciality" />
                                        <div class="text-danger" *ngIf="createDoctorForm.get('doctor_speciality')?.hasError('required') && 
                                            createDoctorForm.get('doctor_speciality')?.touched">
                                            Doctor Speciality is required</div>
                                    </div>
                                    <div class="col-md-3 form-group">
                                        <label>Professional bio</label>
                                        <input type="text" class="form-control" placeholder="Professional bio"
                                            formControlName="professional_bio" />
                                        <div class="text-danger" *ngIf="createDoctorForm.get('professional_bio')?.hasError('required') && 
                                            createDoctorForm.get('professional_bio')?.touched">
                                            Professional bio is required</div>
                                    </div>
                                    <div class="col-md-3 form-group">
                                        <label>Specialised treatment</label>
                                        <input type="text" class="form-control" placeholder="Specialised treatment"
                                            formControlName="specialised_treatment" />
                                        <div class="text-danger" *ngIf="createDoctorForm.get('specialised_treatment')?.hasError('required') && 
                                            createDoctorForm.get('specialised_treatment')?.touched">
                                            Specialised treatment is required</div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-3 form-group">
                                        <label>Heighest qualifications</label>
                                        <input type="text" class="form-control" placeholder="Heighest qualifications"
                                            formControlName="heighest_qualification" />
                                        <div class="text-danger" *ngIf="createDoctorForm.get('heighest_qualification')?.hasError('required') && 
                                            createDoctorForm.get('heighest_qualification')?.touched">
                                            Heighest qualifications is required</div>
                                    </div>
                                    <div class="col-md-3 form-group">
                                        <label>Industry experience</label>
                                        <input type="text" class="form-control" placeholder="Industry experience"
                                            formControlName="industry_experience" />
                                        <div class="text-danger" *ngIf="createDoctorForm.get('industry_experience')?.hasError('required') && 
                                            createDoctorForm.get('industry_experience')?.touched">
                                            Industry experience is required</div>
                                    </div>

                                    <div class="col-md-3 form-group">
                                        <label>From time 1</label>

                                        <input [ngxTimepicker]="picker" class="form-control" placeholder="From time"
                                            formControlName="from_time">
                                        <ngx-material-timepicker #picker></ngx-material-timepicker>
                                        <!-- <input type="text" class="form-control" placeholder="From time"
                                        formControlName="from_time"/> -->
                                        <div class="text-danger" *ngIf="createDoctorForm.get('from_time')?.hasError('required') && 
                                            createDoctorForm.get('from_time')?.touched">
                                            From time is required</div>
                                    </div>
                                    <div class="col-md-3 form-group">
                                        <label>To time 1</label>
                                        <div>
                                            <input [ngxTimepicker]="pickers" class="form-control" placeholder="To time"
                                                formControlName="to_time">
                                            <ngx-material-timepicker #pickers></ngx-material-timepicker>
                                        </div>
                                        <!-- <input type="text" class="form-control" placeholder="To time"
                                        formControlName="to_time"/> -->
                                        <div class="text-danger" *ngIf="createDoctorForm.get('to_time')?.hasError('required') && 
                                            createDoctorForm.get('to_time')?.touched">
                                            To time is required</div>
                                    </div>
                                </div>
                                <div class="row">

                                    <div class="col-md-3 form-group">
                                        <label>From time 2</label>

                                        <input [ngxTimepicker]="picker1" class="form-control" placeholder="From time"
                                            formControlName="from_time1">
                                        <ngx-material-timepicker #picker1></ngx-material-timepicker>
                                        <!-- <input type="text" class="form-control" placeholder="From time"
                                        formControlName="from_time1"/> -->
                                        <div class="text-danger" *ngIf="createDoctorForm.get('from_time1')?.hasError('required') && 
                                            createDoctorForm.get('from_time1')?.touched">
                                            From time is required</div>
                                    </div>
                                    <div class="col-md-3 form-group">
                                        <label>To time 2</label>
                                        <div>
                                            <input [ngxTimepicker]="pickers1" class="form-control" placeholder="To time"
                                                formControlName="to_time1">
                                            <ngx-material-timepicker #pickers1></ngx-material-timepicker>
                                        </div>
                                        <!-- <input type="text" class="form-control" placeholder="To time"
                                        formControlName="to_time1"/> -->
                                        <div class="text-danger" *ngIf="createDoctorForm.get('to_time1')?.hasError('required') && 
                                            createDoctorForm.get('to_time1')?.touched">
                                            To time is required</div>
                                    </div>

                                    <div class="col-md-3 form-group">
                                        <label>From time 3</label>

                                        <input [ngxTimepicker]="picker2" class="form-control" placeholder="From time"
                                            formControlName="from_time2">
                                        <ngx-material-timepicker #picker2></ngx-material-timepicker>
                                        <!-- <input type="text" class="form-control" placeholder="From time"
                                        formControlName="from_time2"/> -->
                                        <div class="text-danger" *ngIf="createDoctorForm.get('from_time2')?.hasError('required') && 
                                            createDoctorForm.get('from_time2')?.touched">
                                            From time is required</div>
                                    </div>
                                    <div class="col-md-3 form-group">
                                        <label>To time 3</label>
                                        <div>
                                            <input [ngxTimepicker]="pickers2" class="form-control" placeholder="To time"
                                                formControlName="to_time2">
                                            <ngx-material-timepicker #pickers2></ngx-material-timepicker>
                                        </div>
                                        <!-- <input type="text" class="form-control" placeholder="To time"
                                        formControlName="to_time2"/> -->
                                        <div class="text-danger" *ngIf="createDoctorForm.get('to_time2')?.hasError('required') && 
                                            createDoctorForm.get('to_time2')?.touched">
                                            To time is required</div>
                                    </div>
                                </div>
                                <div class="row">

                                    <div class="col-md-3 form-group">
                                        <label>Patient Time Duration</label>
                                        <input type="text" class="form-control" placeholder="Patient Time Duration"
                                            formControlName="patient_time_duration" />
                                        <div class="text-danger" *ngIf="createDoctorForm.get('patient_time_duration')?.hasError('required') && 
                                            createDoctorForm.get('patient_time_duration')?.touched">
                                            Time Duration is required</div>
                                    </div>
                                    <div class="col-md-3 form-group">
                                        <label>Email</label>
                                        <input type="text" class="form-control" placeholder="Email"
                                            formControlName="doctor_email" />
                                        <div class="text-danger" *ngIf="createDoctorForm.get('doctor_email')?.hasError('required') && 
                                            createDoctorForm.get('doctor_email')?.touched">
                                            Email is required</div>
                                    </div>
                                    <div class="col-md-3 form-group">
                                        <label>Password</label>
                                        <input type="text" class="form-control" placeholder="Password"
                                            formControlName="password" />
                                        <div class="text-danger" *ngIf="createDoctorForm.get('password')?.hasError('required') && 
                                            createDoctorForm.get('password')?.touched">
                                            Password is required</div>
                                    </div>

                                    <div class="col-md-3 form-group">
                                        <label>Fees</label>
                                        <input type="text" class="form-control" placeholder="Fees"
                                            formControlName="fees" />
                                        <div class="text-danger" *ngIf="createDoctorForm.get('fees')?.hasError('required') && 
                                            createDoctorForm.get('fees')?.touched">
                                            Fees is required</div>
                                    </div>
                                </div>
                                <div class="row">


                                    <div class="col-md-6 form-group">
                                        <label>Address (Area / Street)</label>
                                        <textarea class="form-control" id="exampleFormControlTextarea1" rows="3"
                                            formControlName="clinic_address"></textarea>
                                        <div class="text-danger" *ngIf="createDoctorForm.get('clinic_address')?.hasError('required') && 
                                            createDoctorForm.get('clinic_address')?.touched">
                                            Address is required</div>
                                    </div>
                                    <div class="col-md-3 form-group">
                                        <label>Select Day</label>
                                        <div class="vas-obs vas-selected" *ngFor="let vas of allDay; let i=index;">
                                            <div class="vas-obs-text checkbox-container">
                                                <!-- {{vas.checked}} -->
                                                <input type="checkbox" [checked]="vas.checked"
                                                    (change)="dayCheckbox($event,vas.day,vas)"> {{vas.day}}
                                            </div>
                                        </div>
                                    </div>

                                    <div class="col-md-3 form-group">
                                        <label>Day Expiry</label>
                                        <input type="text" class="form-control" placeholder="Day Expiry"
                                            formControlName="day_expiry" />
                                        <div class="text-danger" *ngIf="createDoctorForm.get('day_expiry')?.hasError('required') && 
                                            createDoctorForm.get('day_expiry')?.touched">
                                            day is required</div>
                                    </div>
                                    <div class="col-md-6 form-group">
                                        <label>Doctor Image <span style="color: red;">(Image should be 1 to 100 KB)</span></label>
                                        <input type="file" class="form-control-file" formControlName="doctor_image"
                                            id="exampleFormControlFile1"
                                            (change)="handleFileInput($event.target.files)">
                                        <div class="text-danger" *ngIf="createDoctorForm.get('doctor_image')?.hasError('required') && 
                                            createDoctorForm.get('doctor_image')?.touched">
                                            Image is required</div>
                                    </div>
                                    <div class="col-md-3 form-group" *ngIf="this.doctorId.id">
                                        <label>Image View</label>
                                        <div>
                                            <img [src]="images" style="height: 100px; width: 200px;">
                                        </div>
                                    </div>
                                    <!-- <input [ngxTimepicker]="picker">
                                       <ngx-material-timepicker #picker></ngx-material-timepicker> -->
                                </div>

                                <div class="row" *ngIf="isTodaySat">

                                    <div class="col-md-3 form-group">
                                        <label>Sat From time 1</label>

                                        <input [ngxTimepicker]="pickerSat1" class="form-control" placeholder="From time"
                                            formControlName="sat_from_time">
                                        <ngx-material-timepicker #pickerSat1></ngx-material-timepicker>
                                        <div class="text-danger" *ngIf="createDoctorForm.get('sat_from_time')?.hasError('required') && 
                                        createDoctorForm.get('sat_from_time')?.touched">
                                        Time is required</div>
                                    </div>
                                    <div class="col-md-3 form-group">
                                        <label>Sat To time 1</label>
                                        <div>
                                            <input [ngxTimepicker]="pickerSat2" class="form-control"
                                                placeholder="To time" formControlName="sat_to_time">
                                            <ngx-material-timepicker #pickerSat2></ngx-material-timepicker>
                                        </div>
                                        <div class="text-danger" *ngIf="createDoctorForm.get('sat_to_time')?.hasError('required') && 
                                        createDoctorForm.get('sat_to_time')?.touched">
                                        Time is required</div>
                                    </div>
                                    <div class="col-md-3 form-group">
                                        <label>Sat From time 2</label>

                                        <input [ngxTimepicker]="pickerSat3" class="form-control" placeholder="From time"
                                            formControlName="sat_from_time1">
                                        <ngx-material-timepicker #pickerSat3></ngx-material-timepicker>
                                        <!-- <input type="text" class="form-control" placeholder="From time"
                                        formControlName="from_time1"/> -->
                                    </div>
                                    <div class="col-md-3 form-group">
                                        <label>Sat To time 2</label>
                                        <div>
                                            <input [ngxTimepicker]="pickerSat4" class="form-control"
                                                placeholder="To time" formControlName="sat_to_time1">
                                            <ngx-material-timepicker #pickerSat4></ngx-material-timepicker>
                                        </div>
                                    </div>

                                    <div class="col-md-3 form-group">
                                        <label>Sat From time 3</label>

                                        <input [ngxTimepicker]="pickerSat5" class="form-control" placeholder="From time"
                                            formControlName="sat_from_time2">
                                        <ngx-material-timepicker #pickerSat5></ngx-material-timepicker>

                                    </div>
                                    <div class="col-md-3 form-group">
                                        <label>Sat To time 3</label>
                                        <div>
                                            <input [ngxTimepicker]="pickerSat6" class="form-control"
                                                placeholder="To time" formControlName="sat_to_time2">
                                            <ngx-material-timepicker #pickerSat6></ngx-material-timepicker>
                                        </div>
                                    </div>
                                </div>

                                <div class="row" *ngIf="isTodaySunday">

                                    <div class="col-md-3 form-group">
                                        <label>Sunday From time 1</label>

                                        <input [ngxTimepicker]="pickerSat1" class="form-control" placeholder="From time"
                                            formControlName="sun_from_time">
                                        <ngx-material-timepicker #pickerSat1></ngx-material-timepicker>

                                        <div class="text-danger" *ngIf="createDoctorForm.get('sun_from_time')?.hasError('required') && 
                                        createDoctorForm.get('sun_from_time')?.touched">
                                        Time is required</div>
                                    </div>
                                    <div class="col-md-3 form-group">
                                        <label>Sunday To time 1</label>
                                        <div>
                                            <input [ngxTimepicker]="pickerSat2" class="form-control"
                                                placeholder="To time" formControlName="sun_to_time">
                                            <ngx-material-timepicker #pickerSat2></ngx-material-timepicker>
                                        </div>

                                        <div class="text-danger" *ngIf="createDoctorForm.get('sun_to_time')?.hasError('required') && 
                                        createDoctorForm.get('sun_to_time')?.touched">
                                        Time is required</div>
                                    </div>
                                    <div class="col-md-3 form-group">
                                        <label>Sunday From time 2</label>

                                        <input [ngxTimepicker]="pickerSat3" class="form-control" placeholder="From time"
                                            formControlName="sun_from_time1">
                                        <ngx-material-timepicker #pickerSat3></ngx-material-timepicker>
                                        <!-- <input type="text" class="form-control" placeholder="From time"
                                        formControlName="from_time1"/> -->
                                    </div>
                                    <div class="col-md-3 form-group">
                                        <label>Sunday To time 2</label>
                                        <div>
                                            <input [ngxTimepicker]="pickerSat4" class="form-control"
                                                placeholder="To time" formControlName="sun_to_time1">
                                            <ngx-material-timepicker #pickerSat4></ngx-material-timepicker>
                                        </div>
                                    </div>

                                    <div class="col-md-3 form-group">
                                        <label>Sunday From time 3</label>

                                        <input [ngxTimepicker]="pickerSat5" class="form-control" placeholder="From time"
                                            formControlName="sun_from_time2">
                                        <ngx-material-timepicker #pickerSat5></ngx-material-timepicker>

                                    </div>
                                    <div class="col-md-3 form-group">
                                        <label>Sunday To time 3</label>
                                        <div>
                                            <input [ngxTimepicker]="pickerSat6" class="form-control"
                                                placeholder="To time" formControlName="sun_to_time2">
                                            <ngx-material-timepicker #pickerSat6></ngx-material-timepicker>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>

                <div class="text-center">
                    <button class="btn btn-primary" (click)="onSubmit()">Create</button>
                </div>
            </div>
        </div>
    </div>
</mat-drawer-container>